---
author: GideonSenku
title: 关于我作为脚本开发者这件事
date: 2021-04-19
description: 聊一聊脚本开发，起初我们都是普通人。
tags:
    - 开发
    - 碎碎念
categories:
    - code
image: bg.png
---

> 乘坐哆啦A梦的时光机器，回到2020年的3月6日，提交了GitHub的第一次PR(pull request)，现在回想起来，也开启了我的整个前端之路。
## 起因

在2020年的2月初旬，在QuanX的TG群阅读置顶的QuanX使用手册，经过通宵达旦的一系列根据文档的学习配置等，勉强知道了这个工具的使用：不仅仅是作为一个科学上网工具，同时能够根据网球请求、MITM进行一系列涉及网络相关的用途，同时还支持JS脚本开发，cron脚本运行等等。

> 互联网总是这样神奇，当你在探索A事物的时候，你能够同时发现B、C、D...

随即我关注了脚本通知频道，进入了脚本通知群，结识一群人。那时候的脚本通知频道经常高产似母猪，出于本能以及拥有一定的编码能力的我，便下定决心要自己动手学习，写一些自己想要的脚本，方便自己的生活(查我寝室的电费)。

> 当然起初的我是什么也不知道的，就连JS也仅仅是知道一个写前端的语言，也不知道什么是MITM，CRON

## 经过

> 学生的思维就是什么事情都要等准备好了才去做，否则会显得没有自信。

打开[Chavy](https://github.com/chavyleung/scripts)的仓库，找了一个代码量相对较少的脚本，试图通过模仿写出属于自己的脚本，但，事情本没有想象的那么简单：

### 1.我该如何拿到想要的数据？
答案是通过抓包。真的，在此之前，我通过同学只知道有抓包这个名词，知道有一个软件叫Fiddler可以用作抓包，那么，动手吧！开始学习抓包ing

这一块没有捷径可言，只能在一系列的请求接口中寻找那个你想要的，通过筛选URL地址，查看请求接口的数据返回值找到想要的数据接口。

### 2.拿到接口后该怎么做？
答案是重放，模拟请求。

(1) 首先通过重放操作，查看该接口的数据能否通过，找到一些关键的字段方便之后进行模拟请求。
如果是获取信息类的接口，接口数据格式一般都是一致的，而如果是请求签到类的接口，一般会提示重复或通过其他的状态码进行标识。

(2) 其次利用脚本模拟请求，这一步骤期间，我可谓是踩了许许多多的坑，同时也在Nobyda的群里开启了一股不仅仅讨论脚本，你甚至还能学习JS的风气。这时候的我，JS是`0`基础，通过在[菜鸟教程](https://www.runoob.com/js/js-tutorial.html)开始了JS学习，简单对这门语言有了一个大致的认识。在我不断的骚扰(寻求帮助)Chavy和Nobyda两位大佬的状态下，勉强写出了一段模拟请求的代码。

(3) 最后的编写通知。利用脚本模拟了请求(请求头、请求体、请求地址)得到了响应，要对响应体进行解析，初学者的我经常在这里踩坑，比如`JSON.stringify`和`JSON.parse`两个方法经常分不清，而这恰恰是我经常取不到数据的原因，通常是将响应进行`JSON.parse`解析成JS对象，我们才能通过JS的对象语法取到值，然后通过一系列的个性化格式根据值写出通知。

### 3. 测试
一个脚本最后一步就是测试了，任何程序都会存在一定的问题待解决，如果世界上存在没有bug的代码的话，恐怕就是下面这一行代码了

```js
// 没有代码也就没有bug
```

## 写到最后
是的，写到最后了，这一篇文章的核心想表达其实并不多。主要是简单的做一个记录，其次是作为现在的我已经能够写了许许多多的脚本，但是很少有人知道曾经的我也是一个小白，只是因为坚持和兴趣才有了今天的我。

如果你也想学习编写脚本，可以参考曾经我写的这一篇博客：[小白编写签到脚本](https://nocoding.xyz/2020/03/28/build-check/)，再次强调：抓包才是整个核心！！！

> 我们都是普通人，只不过是在自己兴趣的坚持上慢慢的开始变得不同